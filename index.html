<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>POC - Open AI</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css" integrity="sha384-b6lVK+yci+bfDmaY1u0zE8YYJt0TZxLEAFyYSLHId4xoVvsrQu3INevFKo+Xir8e" crossorigin="anonymous">
  <link rel="stylesheet" href="./index.css">
  
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
  <script src="./index.js"></script>
</head>
<body>
  <header>
    <nav class="navbar bg-primary border-bottom border-body" data-bs-theme="dark">
      <div class="container">
        <a class="navbar-brand" href="/">
          OpenAI
        </a>
      </div>
    </nav>
  </header>
  <!-- <div id="alert" class="row alert alert-dismissible fade" role="alert">
    <strong class="alert-title"></strong>
    <p></p>
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
  </div> -->
  <div class="row m-3">
    <h2>Chat</h2>
    <section class="col-md-8 mb-3">
      <div class="form-group">
        <textarea class="form-control with_shadow" id="chat" rows="10" readonly="true"></textarea>
        <form onsubmit="return sendPrompt(event)">
          <div class="input-group my-2 with_shadow">
            <input type="text" class="form-control" name="prompt" placeholder="Escribe una pregunta" />
            <button type="submit" class="btn btn-outline-success">
              <i class="bi bi-send-fill"></i>
            </button>
            <button type="button" class="btn btn-outline-secondary" onclick="cleanTextArea()">
              <i class="bi bi-trash-fill"></i>
            </button>
          </div>
        </form>
      </div>
    </section>
    <section class="col-md-4">
      <div class="accordion with_shadow" id="accordionExample">
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingOne">
            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
              <i class="bi bi-sliders"></i>
              <span class="mx-3">Ajustes de Conocimiento</span>
            </button>
          </h2>
          <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
            <div class="accordion-body">
              <form onsubmit="return uploadDocument(event)">
                <div class="form-group">
                  <label for="new_knowledgment" class="form-label">Escribe un documento para aprender:</label>
                  <textarea class="form-control" name="new_knowledgment" rows="5"></textarea>
                  <button type="submit" class="btn btn-primary my-2">
                    <i class="bi bi-cloud-upload-fill"></i>
                    <span class="mx-2">Subir</span>
                  </button>
                </div>
              </form>
                <div class="row">
                  <div class="col-12">
                    <label class="form-label">Documentos a aprender:</label>
                    <div class="input-group my-2">
                      <input id="pending_docs" type="number" class="form-control" value="0" name="pending_docs" readonly/>
                      <button onclick="train()" class="btn btn-success">
                        <i class="bi bi-node-plus-fill"></i>
                        <span class="mx-2">Entrenar</span>
                      </button>
                    </div>
                  </div>
                  <div class="col-12">
                    <label class="form-label">Documentos a olvidar:</label>
                    <div class="input-group my-2">
                      <input id="learned_docs" type="number" class="form-control" value="0" name="learned_docs" readonly/>
                      <button onclick="reset()" class="btn btn-danger">
                        <i class="bi bi-node-minus-fill"></i>
                        <span class="mx-2">Olvidar</span>
                      </button>
                    </div>
                  </div>
                </div>
            </div>
          </div>
        </div>
      </div>    
    </section>
  </div>
</body>
</html>